<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors</title>
</head>

<body>
    <div class="game">
        <button class="rock">Rock</button>
        <button class="paper">Paper</button>
        <button class="scissors">Scissors</button>
        <div class="results">

        </div>
    </div>
    <script>
        let humanScore = 0;
        let computerScore = 0;
        let humanChoice = "";

        const rockButton = document.querySelector(".rock");
        const paperButton = document.querySelector(".paper");
        const scissorsButton = document.querySelector(".scissors");

        const resultsDiv = document.querySelector(".results");
        const results = document.createElement("p");

        rockButton.addEventListener("click", () => {
            // const resultRock = document.createElement("p");
            // resultRock.textContent = "Human chose the rock!";
            // resultsDiv.appendChild(resultRock);

            playRound("rock", getComputerChoice());

            if (humanScore == 5) {
                results.textContent = "Human won! \n\n" + "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
                humanScore = 0;
                computerScore = 0;
            } else if (computerScore == 5) {
                results.textContent = "Computer won! \n\n" + "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
                humanScore = 0;
                computerScore = 0;
            } else {
                results.textContent = "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
            }

        })

        paperButton.addEventListener("click", () => {
            // const resultPaper = document.createElement("p");
            // resultPaper.textContent = "Human chose the paper!";
            // resultsDiv.appendChild(resultPaper);

            playRound("paper", getComputerChoice());
            if (humanScore == 5) {
                results.textContent = "Human won! \n\n" + "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
                humanScore = 0;
                computerScore = 0;
            } else if (computerScore == 5) {
                results.textContent = "Computer won! \n\n" + "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
                humanScore = 0;
                computerScore = 0;
            } else {
                results.textContent = "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
            }

        })

        scissorsButton.addEventListener("click", () => {
            // const resultScissors = document.createElement("p");
            // resultScissors.textContent = "Human chose the scissors!";
            // resultsDiv.appendChild(resultScissors);

            playRound("scissors", getComputerChoice());

            if (humanScore == 5) {
                results.textContent = "Human won! \n\n" + "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
                humanScore = 0;
                computerScore = 0;
            } else if (computerScore == 5) {
                results.textContent = "Computer won! \n\n" + "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
                humanScore = 0;
                computerScore = 0;
            } else {
                results.textContent = "Computer: " + computerScore + "\n\n Human: " + humanScore;
                resultsDiv.appendChild(results);
            }
        })

        function getComputerChoice() {
            let choice = Math.floor(Math.random() * 3);
            if (choice == 1) {
                console.log("Computer picks rock.")
                return "rock";
            } else if (choice == 2) {
                console.log("Computer picks paper.")
                return "paper";
            } else {
                console.log("Computer picks scissors.")
                return "scissors";
            }
        }

        function getHumanChoice() {
            let choice = prompt("Rock paper or scissors?");
            choice = choice.toLowerCase();
            if (choice == "rock" || choice == "paper" || choice == "scissors") {
                console.log("Human picks " + choice)
                return choice;
            }
        }

        function playRound(humanChoice, computerChoice) {
            if (humanChoice == "rock") {
                if (computerChoice == "rock") {

                    console.log("Draw!");
                } else if (computerChoice == "paper") {
                    computerScore = computerScore + 1;
                    console.log("Computer won!");
                } else {
                    humanScore = humanScore + 1;
                    console.log("Human won!");
                }
            } else if (humanChoice == "paper") {
                if (computerChoice == "rock") {
                    humanScore = humanScore + 1;
                    console.log("Human won!");
                } else if (computerChoice == "paper") {
                    console.log("Draw!");
                } else {
                    computerScore = computerScore + 1;
                    console.log("Computer won!");
                }
            } else {
                if (computerChoice == "rock") {
                    computerScore = computerScore + 1;
                    console.log("Computer won!");
                } else if (computerChoice == "paper") {
                    humanScore = humanScore + 1;
                    console.log("Human won!");
                } else {
                    console.log("Draw!");
                }
            }



        }

        // function playGame() {
        //     let humanSelection = getHumanChoice();
        //     let computerSelection = getComputerChoice();
        //     playRound(humanSelection, computerSelection);

        //     humanSelection = getHumanChoice();
        //     computerSelection = getComputerChoice();
        //     playRound(humanSelection, computerSelection);

        //     humanSelection = getHumanChoice();
        //     computerSelection = getComputerChoice();
        //     playRound(humanSelection, computerSelection);

        //     humanSelection = getHumanChoice();
        //     computerSelection = getComputerChoice();
        //     playRound(humanSelection, computerSelection);

        //     humanSelection = getHumanChoice();
        //     computerSelection = getComputerChoice();
        //     playRound(humanSelection, computerSelection);

        //     console.log("Game over. Human score is " + humanScore + ". Computer score is " + computerScore + ".")

        // }

        // playGame();

    </script>
</body>

</html>